<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AmazonInsightsSDK: AIAppleMonetizationEventBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AmazonInsightsSDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="class_a_i_apple_monetization_event_builder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIAppleMonetizationEventBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="interface_a_i_apple_monetization_event_builder.html" title="AIAppleMonetizationEventBuilder builds monetization events to track purchases from Apple&#39;s IAP Framew...">AIAppleMonetizationEventBuilder</a> builds monetization events to track purchases from Apple's IAP Framework.  
 <a href="interface_a_i_apple_monetization_event_builder.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_a_i_apple_monetization_event_builder_8h_source.html">AIAppleMonetizationEventBuilder.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AIAppleMonetizationEventBuilder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_a_i_apple_monetization_event_builder.png" usemap="#AIAppleMonetizationEventBuilder_map" alt=""/>
  <map id="AIAppleMonetizationEventBuilder_map" name="AIAppleMonetizationEventBuilder_map">
<area href="interface_a_i_monetization_event_builder.html" title="Base class for handling the required attributes and metrics for monetization Events." alt="AIMonetizationEventBuilder" shape="rect" coords="0,56,200,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a558412e5ae357b6a5759b56999bf1cd8"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_apple_monetization_event_builder.html#a558412e5ae357b6a5759b56999bf1cd8">withProductId:</a></td></tr>
<tr class="memdesc:a558412e5ae357b6a5759b56999bf1cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the product id for the item(s) being purchased.  <a href="#a558412e5ae357b6a5759b56999bf1cd8"></a><br/></td></tr>
<tr class="separator:a558412e5ae357b6a5759b56999bf1cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c472fbf6b89fe94caef8902d94059a2"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_apple_monetization_event_builder.html#a7c472fbf6b89fe94caef8902d94059a2">withItemPrice:andPriceLocale:</a></td></tr>
<tr class="memdesc:a7c472fbf6b89fe94caef8902d94059a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the item price and locale of the item being purchased.  <a href="#a7c472fbf6b89fe94caef8902d94059a2"></a><br/></td></tr>
<tr class="separator:a7c472fbf6b89fe94caef8902d94059a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a01ce58ffccab212e05e13d8b7fbedd"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_apple_monetization_event_builder.html#a8a01ce58ffccab212e05e13d8b7fbedd">withQuantity:</a></td></tr>
<tr class="memdesc:a8a01ce58ffccab212e05e13d8b7fbedd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the quantity of item(s) being purchased.  <a href="#a8a01ce58ffccab212e05e13d8b7fbedd"></a><br/></td></tr>
<tr class="separator:a8a01ce58ffccab212e05e13d8b7fbedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3301bb303eab500a9b013b029634bf9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_apple_monetization_event_builder.html#ac3301bb303eab500a9b013b029634bf9">withTransactionId:</a></td></tr>
<tr class="memdesc:ac3301bb303eab500a9b013b029634bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the transaction id of the purchase (Obtained from the SKPurchaseTransaction object)  <a href="#ac3301bb303eab500a9b013b029634bf9"></a><br/></td></tr>
<tr class="separator:ac3301bb303eab500a9b013b029634bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc07b6eabfa1ec59d6131930e73712b0"><td class="memItemLeft" align="right" valign="top">(id&lt; <a class="el" href="protocol_a_i_event-p.html">AIEvent</a> &gt;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_apple_monetization_event_builder.html#afc07b6eabfa1ec59d6131930e73712b0">build</a></td></tr>
<tr class="memdesc:afc07b6eabfa1ec59d6131930e73712b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds the monetization event using the parameters set on the builder.  <a href="#afc07b6eabfa1ec59d6131930e73712b0"></a><br/></td></tr>
<tr class="separator:afc07b6eabfa1ec59d6131930e73712b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interface_a_i_monetization_event_builder"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interface_a_i_monetization_event_builder')"><img src="closed.png" alt="-"/>&#160;Instance Methods inherited from <a class="el" href="interface_a_i_monetization_event_builder.html">AIMonetizationEventBuilder</a></td></tr>
<tr class="memitem:aa3e95150b9b68d512ee59324c2a0d7d7 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#aa3e95150b9b68d512ee59324c2a0d7d7">isValid</a></td></tr>
<tr class="memdesc:aa3e95150b9b68d512ee59324c2a0d7d7 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if this builder is in a valid state.  <a href="#aa3e95150b9b68d512ee59324c2a0d7d7"></a><br/></td></tr>
<tr class="separator:aa3e95150b9b68d512ee59324c2a0d7d7 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7138ee295264cb29c70509f1ff8ea6 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a0b7138ee295264cb29c70509f1ff8ea6">initWithEventClient:</a></td></tr>
<tr class="memdesc:a0b7138ee295264cb29c70509f1ff8ea6 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="interface_a_i_monetization_event_builder.html" title="Base class for handling the required attributes and metrics for monetization Events.">AIMonetizationEventBuilder</a>.  <a href="#a0b7138ee295264cb29c70509f1ff8ea6"></a><br/></td></tr>
<tr class="separator:a0b7138ee295264cb29c70509f1ff8ea6 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af669498b95b4ffaeafd674f9d87c9de8 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#af669498b95b4ffaeafd674f9d87c9de8">productId</a></td></tr>
<tr class="memdesc:af669498b95b4ffaeafd674f9d87c9de8 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The product id that will be used to build the monetization event.  <a href="#af669498b95b4ffaeafd674f9d87c9de8"></a><br/></td></tr>
<tr class="separator:af669498b95b4ffaeafd674f9d87c9de8 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633235c9d1370ccf8731897b29a6477c inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a633235c9d1370ccf8731897b29a6477c">setProductId:</a></td></tr>
<tr class="memdesc:a633235c9d1370ccf8731897b29a6477c inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the product id to use when building the monetization event.  <a href="#a633235c9d1370ccf8731897b29a6477c"></a><br/></td></tr>
<tr class="separator:a633235c9d1370ccf8731897b29a6477c inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfc5d0c2aa2f8bbb0bc2f75debc185c inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(NSInteger)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#afbfc5d0c2aa2f8bbb0bc2f75debc185c">quantity</a></td></tr>
<tr class="memdesc:afbfc5d0c2aa2f8bbb0bc2f75debc185c inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The quantity that will be used to build the monetization event.  <a href="#afbfc5d0c2aa2f8bbb0bc2f75debc185c"></a><br/></td></tr>
<tr class="separator:afbfc5d0c2aa2f8bbb0bc2f75debc185c inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68be97f5a8a703249bb3507cb894ff64 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a68be97f5a8a703249bb3507cb894ff64">setQuantity:</a></td></tr>
<tr class="memdesc:a68be97f5a8a703249bb3507cb894ff64 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the quantity to use when building the monetization event.  <a href="#a68be97f5a8a703249bb3507cb894ff64"></a><br/></td></tr>
<tr class="separator:a68be97f5a8a703249bb3507cb894ff64 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac838dad2092d049780dabe88a5bd71f5 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(double)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#ac838dad2092d049780dabe88a5bd71f5">itemPrice</a></td></tr>
<tr class="memdesc:ac838dad2092d049780dabe88a5bd71f5 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The numerical price of the item being purchased that will be used to build the monetization event.  <a href="#ac838dad2092d049780dabe88a5bd71f5"></a><br/></td></tr>
<tr class="separator:ac838dad2092d049780dabe88a5bd71f5 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa903ad7aa55e09ede2cc4082310c66 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a6aa903ad7aa55e09ede2cc4082310c66">setItemPrice:</a></td></tr>
<tr class="memdesc:a6aa903ad7aa55e09ede2cc4082310c66 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the numerical item price to use when building the monetization event.  <a href="#a6aa903ad7aa55e09ede2cc4082310c66"></a><br/></td></tr>
<tr class="separator:a6aa903ad7aa55e09ede2cc4082310c66 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49bfe1ba75bbfbe611fa8737c4168c2 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#ac49bfe1ba75bbfbe611fa8737c4168c2">formattedItemPrice</a></td></tr>
<tr class="memdesc:ac49bfe1ba75bbfbe611fa8737c4168c2 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The formatted item price that will be used to build the monetization event.  <a href="#ac49bfe1ba75bbfbe611fa8737c4168c2"></a><br/></td></tr>
<tr class="separator:ac49bfe1ba75bbfbe611fa8737c4168c2 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ad4997569a0e618471d899189aef42 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a72ad4997569a0e618471d899189aef42">setFormattedItemPrice:</a></td></tr>
<tr class="memdesc:a72ad4997569a0e618471d899189aef42 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the formatted item price in its local currency to use when building the monetization event.  <a href="#a72ad4997569a0e618471d899189aef42"></a><br/></td></tr>
<tr class="separator:a72ad4997569a0e618471d899189aef42 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7d80cb79936f76fb4db9ddd6ca3068 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#afb7d80cb79936f76fb4db9ddd6ca3068">transactionId</a></td></tr>
<tr class="memdesc:afb7d80cb79936f76fb4db9ddd6ca3068 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transaction id that will be used to build the monetization event.  <a href="#afb7d80cb79936f76fb4db9ddd6ca3068"></a><br/></td></tr>
<tr class="separator:afb7d80cb79936f76fb4db9ddd6ca3068 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b63f72498b74a2790060f304abe55b5 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a2b63f72498b74a2790060f304abe55b5">setTransactionId:</a></td></tr>
<tr class="memdesc:a2b63f72498b74a2790060f304abe55b5 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the transaction id to use when building the monetization event.  <a href="#a2b63f72498b74a2790060f304abe55b5"></a><br/></td></tr>
<tr class="separator:a2b63f72498b74a2790060f304abe55b5 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04dd262e7233adde323600d30f0018f4 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a04dd262e7233adde323600d30f0018f4">currency</a></td></tr>
<tr class="memdesc:a04dd262e7233adde323600d30f0018f4 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The currency that be used to build the monetization event.  <a href="#a04dd262e7233adde323600d30f0018f4"></a><br/></td></tr>
<tr class="separator:a04dd262e7233adde323600d30f0018f4 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e77837e44b65bf6c2b638c7e5af6ceb inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#a3e77837e44b65bf6c2b638c7e5af6ceb">setCurrency:</a></td></tr>
<tr class="memdesc:a3e77837e44b65bf6c2b638c7e5af6ceb inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the currency of the item price to use when building the monetization event.  <a href="#a3e77837e44b65bf6c2b638c7e5af6ceb"></a><br/></td></tr>
<tr class="separator:a3e77837e44b65bf6c2b638c7e5af6ceb inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf51481c01fe2248c88dd2735661e1ba inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#aaf51481c01fe2248c88dd2735661e1ba">store</a></td></tr>
<tr class="memdesc:aaf51481c01fe2248c88dd2735661e1ba inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the Store where this purchase was made.  <a href="#aaf51481c01fe2248c88dd2735661e1ba"></a><br/></td></tr>
<tr class="separator:aaf51481c01fe2248c88dd2735661e1ba inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3aa5d18890d5309a956eba4e02c6067 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_i_monetization_event_builder.html#aa3aa5d18890d5309a956eba4e02c6067">setStore:</a></td></tr>
<tr class="memdesc:aa3aa5d18890d5309a956eba4e02c6067 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of the Store to use when building the monetization event.  <a href="#aa3aa5d18890d5309a956eba4e02c6067"></a><br/></td></tr>
<tr class="separator:aa3aa5d18890d5309a956eba4e02c6067 inherit pub_methods_interface_a_i_monetization_event_builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:ae4472f75b635f54215e842bf358e5da2"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_a_i_apple_monetization_event_builder.html">AIAppleMonetizationEventBuilder</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_a_i_apple_monetization_event_builder.html#ae4472f75b635f54215e842bf358e5da2">builderWithEventClient:</a></td></tr>
<tr class="memdesc:ae4472f75b635f54215e842bf358e5da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a monetization builder that can record purchase events from Apple's IAP Framework.  <a href="#ae4472f75b635f54215e842bf358e5da2"></a><br/></td></tr>
<tr class="separator:ae4472f75b635f54215e842bf358e5da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="interface_a_i_apple_monetization_event_builder.html" title="AIAppleMonetizationEventBuilder builds monetization events to track purchases from Apple&#39;s IAP Framew...">AIAppleMonetizationEventBuilder</a> builds monetization events to track purchases from Apple's IAP Framework. </p>
<p>In order to build a monetization event, you must call all of the setters on this builder. You will need to access properties on both the SKProduct class and the SKPurchaseTransaction class in order to build an Apple Monetization event.</p>
<p>The example below demonstrates how to create a monetization event after you recieve a SKPaymentTransaction from the SKPaymentTransactionObserver. Since Apple does not give you any product information in the SKPaymentTransaction object, you must have a way to access your SKProduct store inventory when the purchase is being finalized. In the example below, we have a product catalog object that can return SKProduct's based on the product id returned in an SKPaymentTransaction object. This product catalog was built after receiving a SKProductsRequest from the SKProductsRequestDelegate.</p>
<p>Example: </p>
<div class="fragment"><div class="line">-(void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {</div>
<div class="line">   <span class="keywordflow">for</span> (SKPaymentTransaction* transaction in transactions) {</div>
<div class="line">      <span class="keywordflow">switch</span> (transaction.transactionState) {</div>
<div class="line">         <span class="keywordflow">case</span> SKPaymentTransactionStatePurchased:</div>
<div class="line">         </div>
<div class="line">         <span class="comment">// when an item is purchased, give the user access to the content, and</span></div>
<div class="line">         <span class="comment">// record a monetization purchase event.</span></div>
<div class="line">         [<span class="keyword">self</span> completeTransaction:transaction];</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">         <span class="keywordflow">case</span> SKPaymentTransactionStateFailed:</div>
<div class="line">            <span class="comment">// ... handle a failed transaction</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">         <span class="keywordflow">case</span> SKPaymentTransactionStateRestored:</div>
<div class="line">            <span class="comment">// ... restore the transaction</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">-(void)completeTransaction:(SKPaymentTransaction*)transaction{</div>
<div class="line">   <span class="comment">// provide the content that the user purchased</span></div>
<div class="line">   [<span class="keyword">self</span> provideContentForProductIdentifier:transaction.payment.productIdentifier];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// get the SKProduct for the product identifier that was purchased</span></div>
<div class="line">   SKProduct* product = [productCatalog objectForKey:transaction.payment.productIdentifier];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// get the event client for the builder</span></div>
<div class="line">   id&lt;AIEventClient&gt; eventClient = insights.<a class="code" href="interface_a_i_amazon_insights.html#a6bd92e9a88b59cee6da40362f92d4ab9" title="Return the AIEventClient.">eventClient</a>;</div>
<div class="line"></div>
<div class="line">   <span class="comment">// create a builder that can record purchase events from Apple</span></div>
<div class="line">   <a class="code" href="interface_a_i_apple_monetization_event_builder.html" title="AIAppleMonetizationEventBuilder builds monetization events to track purchases from Apple&#39;s IAP Framew...">AIAppleMonetizationEventBuilder</a>* builder = [<a class="code" href="interface_a_i_apple_monetization_event_builder.html" title="AIAppleMonetizationEventBuilder builds monetization events to track purchases from Apple&#39;s IAP Framew...">AIAppleMonetizationEventBuilder</a> builderWithEventClient:eventClient];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// set the product id of the purchased item (obtained from the SKPurchaseTransaction object)</span></div>
<div class="line">   [builder withProductId:transaction.payment.productIdentifier];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// set the item price and price locale (obtained from the SKProduct object)</span></div>
<div class="line">   [builder withItemPrice:[product.price doubleValue] </div>
<div class="line">           andPriceLocale:product.priceLocale];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// set the quantity of item(s) purchased (obtained from the SKPurchaseTransaction object)</span></div>
<div class="line">   [builder withQuantity:transaction.payment.<a class="code" href="interface_a_i_monetization_event_builder.html#afbfc5d0c2aa2f8bbb0bc2f75debc185c" title="The quantity that will be used to build the monetization event.">quantity</a>];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// set the transactionId of the transaction (obtained from the SKPurchaseTransaction object)</span></div>
<div class="line">   [builder withTransactionId:transaction.transactionIdentifier];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// build the monetization event</span></div>
<div class="line">   id&lt;AIEvent&gt; purchaseEvent = [builder <a class="code" href="interface_a_i_apple_monetization_event_builder.html#afc07b6eabfa1ec59d6131930e73712b0" title="Builds the monetization event using the parameters set on the builder.">build</a>];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// add any additional metrics/attributes and record</span></div>
<div class="line">   [eventClient recordEvent:purchaseEvent];</div>
<div class="line"></div>
<div class="line">   <span class="comment">// finalize the transaction as required by Apple</span></div>
<div class="line">   [[SKPaymentQueue defaultQueue] finishTransaction:transaction];</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="afc07b6eabfa1ec59d6131930e73712b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id&lt;<a class="el" href="protocol_a_i_event-p.html">AIEvent</a>&gt;) build </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds the monetization event using the parameters set on the builder. </p>
<p>You must still record the event. </p>
<dl class="section return"><dt>Returns</dt><dd>an <a class="el" href="protocol_a_i_event-p.html" title="Represents the visit or conversion event of an A/B test, or may also be used to collect useful inform...">AIEvent</a> to record </dd></dl>

<p>Implements <a class="el" href="interface_a_i_monetization_event_builder.html#aedea9542faf8c859c28595bb7824847e">AIMonetizationEventBuilder</a>.</p>

</div>
</div>
<a class="anchor" id="ae4472f75b635f54215e842bf358e5da2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_a_i_apple_monetization_event_builder.html">AIAppleMonetizationEventBuilder</a>*) builderWithEventClient: </td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_a_i_event_client-p.html">AIEventClient</a> &gt;)&#160;</td>
          <td class="paramname"><em>theEventClient</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a monetization builder that can record purchase events from Apple's IAP Framework. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theEventClient</td><td>The event client used to create the event </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a monetization event builder for Apple purchases </dd></dl>

</div>
</div>
<a class="anchor" id="a7c472fbf6b89fe94caef8902d94059a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) withItemPrice: </td>
          <td></td>
          <td class="paramtype">(double)&#160;</td>
          <td class="paramname"><em>theItemPrice</em></td>
        </tr>
        <tr>
          <td class="paramkey">andPriceLocale:</td>
          <td></td>
          <td class="paramtype">(NSLocale *)&#160;</td>
          <td class="paramname"><em>thePriceLocale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the item price and locale of the item being purchased. </p>
<p>(Obtained from the SKProduct object) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theItemPrice</td><td>The numerical item price </td></tr>
    <tr><td class="paramname">thePriceLocale</td><td>The locale representing the item price's currency </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a558412e5ae357b6a5759b56999bf1cd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) withProductId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>theProductId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the product id for the item(s) being purchased. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">withProductId</td><td>The product id of the item(s) being purchased </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8a01ce58ffccab212e05e13d8b7fbedd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) withQuantity: </td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>theQuantity</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the quantity of item(s) being purchased. </p>
<p>(Obtained from the SKPurchaseTransaction object) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theQuantity</td><td>The quantity of items purchased </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac3301bb303eab500a9b013b029634bf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) withTransactionId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>theTransactionId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the transaction id of the purchase (Obtained from the SKPurchaseTransaction object) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theTransactionId</td><td>The transaction id of the purchase </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>build/Framework/release/AmazonInsightsSDK.framework/Versions/A/Headers/monetization/<a class="el" href="_a_i_apple_monetization_event_builder_8h_source.html">AIAppleMonetizationEventBuilder.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 31 2013 11:52:39 for AmazonInsightsSDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
